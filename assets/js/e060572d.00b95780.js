(self.webpackChunkyagpdb_cc_website=self.webpackChunkyagpdb_cc_website||[]).push([[9417],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return l},kt:function(){return d}});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=r.createContext({}),m=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},l=function(e){var t=m(e.components);return r.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),u=m(n),d=i,g=u["".concat(s,".").concat(d)]||u[d]||p[d]||o;return n?r.createElement(g,a(a({ref:t},l),{},{components:n})):r.createElement(g,a({ref:t},l))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=u;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:i,a[1]=c;for(var m=2;m<o;m++)a[m]=n[m];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},3124:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return a},metadata:function(){return c},toc:function(){return s},default:function(){return l}});var r=n(2122),i=n(9756),o=(n(7294),n(3905)),a={sidebar_position:16,title:"Time"},c={unversionedId:"utilities/time",id:"utilities/time",isDocsHomePage:!1,title:"Time",description:"This command gets the time of your city, the weather of your city, and shows it in an embed with a different image / color depending on time.",source:"@site/docs/utilities/time.md",sourceDirName:"utilities",slug:"/utilities/time",permalink:"/yagpdb-cc/utilities/time",editUrl:"https://github.com/yagpdb-cc/yagpdb-cc/edit/master/yagpdb-cc-website/docs/utilities/time.md",version:"current",sidebarPosition:16,frontMatter:{sidebar_position:16,title:"Time"},sidebar:"tutorialSidebar",previous:{title:"Struct",permalink:"/yagpdb-cc/utilities/struct"},next:{title:"World Clock",permalink:"/yagpdb-cc/utilities/worldclock"}},s=[],m={toc:s};function l(e){var t=e.components,n=(0,i.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"This command gets the time of your city, the weather of your city, and shows it in an embed with a different image / color depending on time."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Trigger Type:")," ",(0,o.kt)("inlineCode",{parentName:"p"},"Command")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Trigger:")," ",(0,o.kt)("inlineCode",{parentName:"p"},"time")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Usage:"),(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"-time")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'{{/*\n    This command gets the time of your city, the weather of your city, and shows it in an embed with a different image / color depending on time.\n    Usage: `-time`.\n\n    Recommended trigger: Command trigger with trigger `time`\n*/}}\n\n{{/* CONFIGURATION VALUES START */}}\n{{ $assets := sdict\n    "morning" (sdict\n        "image" "https://www.bnrconvention.com/wp-content/uploads/2017/04/coffee-icon-1.png"\n        "color" 9498256\n    )\n    "afternoon" (sdict\n        "image" "https://www.bnrconvention.com/wp-content/uploads/2017/04/coffee-icon-1.png"\n        "color" 16747520\n    )\n    "evening" (sdict\n        "image" "https://cdn4.iconfinder.com/data/icons/outdoors-3/460/night-512.png"\n        "color" 8087790\n    )\n    "night" (sdict\n        "image" "https://cdn4.iconfinder.com/data/icons/outdoors-3/460/night-512.png"\n        "color" 1062054\n    )\n}} {{/* Only modify the individual sdicts, you should only be changing the image (url) or color (dec) */}}\n{{ $timezone := "America/Vancouver" }} {{/* Avaliable from http://kevalbhatt.github.io/timezone-picker/ (same as setz) */}}\n{{ $name := "Joe" }} {{/* Your name */}}\n{{ $location := "Vancouver" }} {{/* City name */}}\n{{/* CONFIGURATION VALUES END */}}\n\n{{ $marker := "night" }}\n{{ $output := exec "weather" $location }}\n{{ $output = reReplace `\\x60+` $output "" }}\n{{ $res := split $output "\\n" }}\n{{ $weather := slice (index $res 3) 15 }}\n{{ $temp := reReplace `\\.\\.` (reReplace ` \\(.+$` (slice (index $res 4) 15) "") " - " }}\n\n{{ $now := currentTime.In (newDate 0 0 0 0 0 0 $timezone).Location }}\n{{ $hr := $now.Hour }}\n{{ if and (ge $hr 5) (lt $hr 12) }} {{ $marker = "morning" }}\n{{ else if and (ge $hr 12) (lt $hr 17) }} {{ $marker = "afternoon" }}\n{{ else if and (ge $hr 17) (lt $hr 21) }} {{ $marker = "evening" }}\n{{ end }}\n\n{{ $asset := $assets.Get $marker }}\n{{ $time := $now.Format "3:04:05 PM" }}\n{{ $date := $now.Format "Monday, January 2, 2006" }}\n{{ $embed := cembed\n    "title" (printf "Good %s, %s" $marker $name)\n    "color" $asset.color\n    "thumbnail" (sdict "url" $asset.image)\n    "description" (printf "\u276f **Time:** %s\\n\u276f **Date:** %s\\n\u276f **Weather:** %s (%s)" $time $date $weather $temp)\n}}\n{{ sendMessage nil $embed }}\n')))}l.isMDXComponent=!0}}]);